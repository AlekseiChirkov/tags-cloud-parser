Автор: MartianEngineer
Дата: 2021-10-06T07:54:43.000Z
Название: Во все порты: одна карта и три картридера
Теги: Компьютерное железо, Накопители
Текст:
Казалось бы, выбор картридера очевидным образом влияет на скорость
карт памяти: модели с интерфейсом USB 3.x всегда быстрее их предков с
USB 2.0, но все ли картридеры USB 3.x одинаково шустрые? Есть ли для
них смысл в USB 3.2 Gen 2 (10 Гбит/с), или же это заведомый overkill и
маркетинговый шум?Мне захотелось проверить это на примере работы
microSDXC Transcend 340S на 256 ГБ (TS256GUSD340S) с тремя разными
картридерами. Для чистоты эксперимента выбрал ридеры той же фирмы
(благо, их часто закупают). Ниже привожу результаты тестов, но для
начала опишу основные условия их проведения.Материнка: Asus Maximus
VIII Hero (старая, но всё ещё добрая);Камень: Core i7-7700K на частоте
4500 МГц (45x100x4+HT);Оперативка: 2 планки по 8 Гб Kingston HyperX
DDR4-3466 в двухканальном режиме;Два твердотельника по полтерабайта:
WD Black SN750  (под систему) + TS512GSSD452K (хранилка);Б/п:
SSR-750TR  (он же Seasonic Prime TX-750).Картридеры: Transcend HUB5C,
RDF9K2 и RDF5        Операционка: 64-разрядная Win 7 с последними
обновками (ESU).Сама карточка интересна тем, что по заявлению
производителя способна "обеспечивать скорости, выходящие за пределы
стандарта UHS-I", т.е. выше 104 МБ/с. Как именно это достигается —
чёрт его знает, но предположу, что это сжатие данных на лету,
выполняемое картридером. На эту мысль меня навело следующее заявление
на официальном сайте: "Наилучшая производительность достигается с
картридером Transcend HUB5C и актуальной версией прошивки".Для начала
испытаем рекомендованный HUB5C, подключив его в порт USB 3.1. Gen.2
Type C (10 Гбит/с) и накатив последнюю прошивку v.2958.Crystal Disk
Mark (профиль по умолчанию).Вынужден признать: эта тестовая утилита
действительно показывает скорости последовательного чтения и записи
выше, чем предусмотрено стандартом UHS-I (104 МБ/с), однако на
случайных операциях быстродействие оставляет желать лучшего.Crystal
Disk Mark (профиль real speed)С другим профилем чтение/запись также
остаются весьма быстрыми, но мелкоблочные операции по случайным
адресам не соответствуют заявленному классу A2 (от 4 тыс. IOPS для
чтения и от 2 тыс. IOPS при записи в рандомном режиме).Возрождённая
Сергеем Казанским уникальная программа Victoria версии 5.28 показывает
ровный график последовательного чтения и отображает удобную статистику
(мин/ср.знач/макс).Ещё я попробовал старую утилиту AS SSD Benchmark,
но её результаты были каждый раз разными и очень странными, поэтому
решил их не приводить.Старая гвардияЗатем выполнил те же тесты с
картридером RDF9K2 (прошивка 1146, новее нет).RDF9K2 немного режет
скорость линейных операций, но вытягивает рандомные Думаю, результат
говорит сам за себя. Картридер явно упёрся в предел интерфейса UHS-I,
а вот его прошивка оказалась лучше оптимизирована для операций
чтения/записи по случайным адресам.Количество операций ввода/вывода
взлетело выше 3 тысяч.Как видите, на сравнительно "медленном"
интерфейсе (5 vs 10 Гбит/с) карта памяти продемонстрировала даже более
высокую скорость операций с рандомными адресами блоков.График чтения
microSDXC 340S через RDF9K2 в Victoria 5.28Утилита Victoria также
подтверждает, что линейная скорость чтения снизилась: минимальная — 53
МБ/с, средняя —73 МБ/с и максимальная — 94 МБ/с.Первый из поколения
USB 3.xОсталось проверить мой первый картридер с USB 3.0 — Transcend
RDF5. Карточка 340S в картридере RDF5. Crystal Disk Mark, профиль по
умолчанию.Несмотря на почтенный возраст (модель появилась лет десять
назад), он по-прежнему быстро читает современные карточки UHS-I.
Однако при этом RDF5 не имеет никаких оптимизаций на уровне прошивки —
ни для мелкоблочных, ни для линейных операций. TS256GUSD340S в RDF5.
Crystal Disk Mark, профиль real speedОсобенно заметно снижение
скорости чтения/записи по случайным адресам — почти вдвое, однако в
режиме без предварительного создания очереди команд (Q1) и в один
поток (T1) они примерно такие же, как и у нового HUB5C.График чтения
microSDXC 340S через RDF5 в Victoria 5.28С учётом пятикратно меньшей
цены и миниатюрных габаритов, RDF5 всё ещё выглядит разумным
вариантом, хоть на рекорды с ним рассчитывать и не
приходится.ВыводыПротестированная карта памяти действительно
преодолевает ограничения UHS-I, если используется с современным
картридером. Однако даже её пиковые значения скорости с большим
запасом укладываются в предел пропускной способности USB 3.x gen 1 (5
Гбит/с), не говоря уже о gen 2 (10 Гбит/с). Поэтому сам по себе более
скоростной порт у картридера не даст преимуществ, как это было во
время перехода с USB 2.0 на 3.0. При этом надо учитывать, что на
практике более быстрый внешний интерфейс может означать применение
современного контроллера, с которым новые карточки будут работать
шустрее.Также на быстродействие карточек влияет прошивка картридера:
одни версии оптимизированы для достижения максимальной скорости
линейного чтения/записи, в то время как в других оптимизированы
мелкоблочные операции по случайным адресам.Сама карта памяти microSDXC
340S вызвала смешанные эмоции. Если в линейных режимах она всегда
шустрая (близко к классу V90, хотя сертифицирована как VЗ0) и даже
выходит за пределы UHS-I, то заявленный класс быстродействия
приложений А2 у меня не наблюдается ни с одним картридером.P.S.:
Вообще вся ситуация с заявленными характеристиками у карт памяти
напоминает мне старый анекдот про слона в зоопарке. Посетитель читает
объявление рядом с вольером: "Слон за день может съесть два ведра
корней, три ведра листьев, четыре ведра травы..." , и удивлённо
спрашивает у смотрителя:— Он правда столько съест?!— Может и съест, да
только кто ж ему даст?
