Автор: YevSam
Дата: 2021-10-04T15:13:32.000Z
Название: Какую СУБД выбрать и почему? (Статья 2)
Теги: Oracle *, SQL *, NoSQL *, Microsoft SQL Server *
Текст:
После публикации статьи “Какую СУБД выбрать и почему? (Статья 1)” ко
мне поступили справедливые комментарии о том, что я не упомянул такие
типы СУБД, как Time Series и Spatial. В этой статье я кратко опишу их
и добавлю еще два типа —  Search engines и Object-oriented
(объектные).Напомню, в предыдущей статье мы описали:РеляционныеКлюч-
значениеДокументныеГрафовыеКолоночныеВ этой опишем:Time
SeriesSpatialSearch enginesObject-oriented (объектные)В заключении я
традиционно добавлю сводную таблицу со всеми типами СУБД — теперь их
девять. Если вас интересует только компактное обобщение (тип, когда
выбирать, популярные СУБД этого типа), то можете просто пролистать в
самый конец.Time Series СУБДТакие СУБД оптимизированы для хранения
данных временных меток или временных рядов. Данные временных рядов
могут содержать измерения или события, которые отслеживаются,
собираются или объединяются в течение определенного периода времени.
Это могут быть данные, собранные с датчиков отслеживания движения,
метрики JVM из приложений Java, рыночные торговые данные, сетевые
данные, ответы API, время безотказной работы процессов и т.д.Данные
хранятся с отметками времени (это ключевое), которые индексируются и
записываются таким образом, чтобы можно было запрашивать данные этих
временных рядов намного быстрее, чем при использовании классической
реляционной базы данных.Наиболее известные СУБД такого типа: InfluxDB,
Kdb+, Prometheus, TimescaleDB, QuestDB, AWS Timestream, OpenTSDB,
GridDB.Когда выбирать Time series СУБДОсновная область применения
таких СУБД — это системы мониторинга, сбора телеметрии и финансовые
системы.Когда не выбирать Time series СУБДЖелательно воздержаться от
применения такой СУБД для задач, не связанных с временными рядами и
временными метками.Объектные СУБД (Object-oriented)Как следует из
названия, такие СУБД оптимизированы под хранение и работу с объектами.
Как и полагается в ООП, у таких объектов в СУБД также имеются свойства
и методы. Так же в них реализованы инкапсуляция и полиморфизм.
Основная цель использования объектных СУБД — избавить разработчиков,
применяющих объектную модель программирования, от необходимости
трансформировать объекты в таблицы, строки и их связи, и обратно.Яркие
представители этого типа СУБД: MongoDB Realm, InterSystems Caché,
ObjectStore, Actian NoSQL DB, Objectivity/DB.Когда выбирать объектные
СУБДЧестно говоря, я видел не так много успешных реализаций с
использованием объектных СУБД. Тем не менее, объектные базы данных
обычно рекомендованы для тех случаев, когда требуется
высокопроизводительная обработка данных, имеющих сложную структуру,
при этом разработка ведется с использованием языков объектно-
ориентированного программирования.Когда не выбирать объектные СУБДНе
выбирайте объектную СУБД, если вы планируете использовать классический
язык SQL, если вы не используете ООП или если вы планируете в
дальнейшем мигрировать с данной СУБД на другие. Если нет хорошего
понимания ООП, в большинстве случаев лучше выбрать документо-
ориентированные СУБД.Search engine СУБДТакой тип СУБД используется для
организации полнотекстового поиска. Причем поиск может производиться
по различным данным — это например, данные из других БД, e-mail, RSS-
feed, текст, JSON, XML, CSV, и даже по документам PDF и MS Office. У
Search engine СУБД свои оптимизированные подходы к индексированию
данных. В том числе используются так называемые инвертированные
индексы, для того, чтобы предоставлять практически real-time поиск. В
разных СУБД данного типа могут использоваться свои языки запросов,
отличающихся друг от друга.Известные СУБД данного типа: Apache Solr,
Elasticsearch, Splunk.Когда выбирать Search engine СУБДПодходят для
организации быстрого полнотекстового поиска по различным источникам
данных, как по структурированным, так и по слабо структурированным.
Яркий пример —  системы сбора логов и поиска по ним.Когда не выбирать
Search engine СУБДЕсли поиск производится по ограниченному количеству
полей структурированных данных.Spatial СУБДЭтот тип СУБД оптимизирован
и предназначен для работы с объектами определенными в геометрическом
пространстве. Это могут быть простые объекты (точки, линии,
многоугольники) или сложные (3D-объекты, топологические покрытия,
линейные сети). В таких СУБД реализован набор специальных функций,
позволяющих проводить с объектами операции создания, трансформации,
измерения (расстояния, площади, объема), вычисления (пересечений \
соприкосновений) и выборки по определенным критериям. В таких СУБД
существуют специальные индексы, оптимизирующие работу с объектами, и
специальный стандартизированный SQL/MM язык.Известные представители
этого типа СУБД: Oracle Spatial, Microsoft SQL, PostGIS,
SpatialLite.Когда выбирать Spatial СУБДЕсли строите GIS-решения. Если
планируете не просто хранить, но и работать с геометрическими
объектами на уровне СУБД.Когда не выбирать Spatial СУБДЕсли планируете
просто хранить геометрические объекты в виде координат.ЗаключениеМы
пополнили наш перечень типов СУБД еще четырьмя: Time series, Object-
oriented, Search engines и Spatial. Это все еще не полный перечень, и
в одной из следующих статей мы продолжим. Отдельно рассмотрим
несколько крупных вендоров, которые предлагают сразу множество типов
СУБД.№Тип СУБДКогда выбиратьПопулярные СУБД данного
типа1РеляционныеНужна транзакционность; высокая нормализация; большая
доля операций на вставкуOracle, MySQL, Microsoft SQL Server,
PostgreSQL, IBM DB2, SQLite2Ключ-значениеЗадачи кэширования и брокеры
сообщенийRedis, Memcached, etcd3ДокументныеДля хранения объектов в
одной сущности, но с разной структурой; хранение структур на основе
JSONCouchbase, MongoDB, Amazon DocumentDB4ГрафовыеЗадачи подобные
социальным сетям; системы оценок и рекомендацийNeo4j, Amazon Neptune,
InfiniteGraph, TigerGraph5КолоночныеХранилища данных; выборки со
сложными аналитическими вычислениями; количество строк в таблице
превышает сотни миллионовVertica, ClickHouse, Google BigQuery, Sybase
\ SAP IQ, InfoBright6Time seriesСистемы мониторинга, сбора телеметрии,
и финансовые системы, с привязкой к временным меткам или временным
рядамInfluxDB, Kdb+, Prometheus, TimescaleDB, QuestDB, AWS Timestream,
OpenTSDB, GridDB7ОбъектныеВысокопроизводительная обработка данных,
имеющих сложную структуру, с использованием языков объектно
ориентированного программированияMongoDB Realm, InterSystems Caché,
ObjectStore, Actian NoSQL DB, Objectivity/DB8Search engineСистемы
полнотекстового поискаApache Solr, Elasticsearch, Splunk9SpatialGIS-
решения, работа с геометрическими объектамиOracle Spatial, Microsoft
SQL, PostGIS, SpatialLiteБольшое спасибо всем за комментарии и правки,
особенно @mentin, @jenki, @jobgemws, @funny_falcon, @MilashchenkoEA,
@UncleJo, @Odmino, @Dansoid, @Jovanny, @Dotarev, @raven19, @stgunholy,
@Dansoid, @apapacyВсегда рад конструктивной критике.
