Автор: shurik2533
Дата: 2021-09-22T21:26:37.000Z
Название: Моя клубничная чудо-коробка
Теги: Python *, Разработка на Raspberry Pi *, Гаджеты, DIY или Сделай сам,
Биология
Текст:
Я собрал умную коробку для круглогодичного выращивания клубники у себя
на балконе. Расскажу как сделал управление освещением, поливом,
отоплением, какие датчики использовал, с какими проблемами столкнулся
и покажу результат.ИдеяВсё началось с того, что мне на глаза попалась
статья, в которой датасаентисты вырастили больше клубники лучшего
качества, чем традиционные фермеры. Это натолкнуло меня на мысль
попробовать вырастить клубнику у себя дома, создав комфортные условия
для её развития. Я тогда ещё ничего не знал о технологии выращивания
растений, но с чего-то надо было начинать.Я прочитал несколько статей
про выращивание клубники для чайников. Кстати, первое, о чем многие
рассказывают, что привычное нам название “Клубника” на самом деле не
относится к ягоде, которую мы обычно едим. То, что продается в
магазинах и выращивается на дачах - земляника садовая. А клубника -
подвид рода Земляника, который многие никогда и не пробовали.После
прочтения статей я набросал поверхностный план для своего проекта и
приступил к реализации. План был такой:Сколотить коробку, которую я
потом поставлю на балкон, где температура за год может колебаться от
-20 до +40Придумать как утеплить коробкуСделать освещениеСделать
отопление на случай морозовСделать автополивСделать вентиляцию, для
отвода теплаПовесить всяких датчиков, чтобы следить за состоянием
коробкиНаписать код для управленияКоробкаПервое, что я сделал - нашел
в продаже контейнеры, в которые посажу будущие растения и желоба под
них для дренажа.Купил два контейнера 180х110х985 мм. В них помещается
по 10 растений. Примерно вот такие:Там же у продавцов попросил
отрезать два желоба по 1 метру. Желоба будут использоваться как полки,
а еще по ним будет стекать дренаж.Дальше я на бумаге накидал
схематично как будет выглядеть коробка. Не бейте, рисовал для себя.В
итоге всё получилось немного иначе и посложнее, но вектор был
задан.Заказал необходимые материалы и соорудил вот такой ящик:В ящике
я сделаю две полки с лотками для растений.РоликОсвещениеЗемляника
садовая - светолюбивое растение. От уровня освещенности будет зависеть
сладость ягоды. Поэтому хочется сделать свет ярким. В то же время
слишком мощные лампы будут перегревать коробку. После гуглёжки сделал
выводы, что минимальная освещенность должна быть - 6000 люкс. Более-
менее сладкую ягоду можно получить от 12000 люкс.Я купил 8
светодиодных лапмочек, по 4 на каждую полку. Световой поток от каждой
- 1521 лм. 1 люкс равен освещенности поверхности площадью 1 квадратный
метр при световом потоке падающего на нее излучения, равном 1 люмен,
т.е. 1 лк = 1 лм/м². На каждой полке площадь освещаемой поверхности
около 1м². Значит, растения получат примерно по 4 х 1521 лм = 6084
люкс.ДренажЕсли у меня будет автополив, то надо, чтобы лишняя жидкость
не застаивалась и куда-то стекала. Я загнул лотки по краям. Проковырял
в них дырки и сделал отвод лишней жидкости в лоток, который расположил
на дне коробки.РоликСвета маловатоПришел к выводу, что освещение
слишком слабое. Поэтому купил 8 ламп по 3000 лм. Это получатся 4 х
3000 лм = 12000 люкс. На самом деле на листьях будет ещё больше, т.к.
они располагаются близко к лампам. Телефонный люксометр на уровне
листьев показывал около 35000 люкс. Также я покрыл внутренности
коробки отражающим материалом для лучшей освещенности. Ещё этот
материал поможет сохранить тепло зимой.Лампы занимают большую площадь
в коробке. Я не догадался, что рассеиватели можно оторвать, но умные
люди потом подсказали.Меня беспокоит, что каждая лампа потребляет 40W,
а значит, что тепла будет излучаться много и надо будет от него
избавляться. А ещё на тот момент я не задумывался об эффективности
светодиодных ламп. Уже значительно позже я посчитал, что
3000лм/40ватт=75лм/ватт - это отстойный показатель даже среди бытовых
светодиодных ламп. Слишком много энергии будет уходить в тепло.
Возможно найти светодиодные панели с эффективностью выше 150лм/ватт.
Но я  продолжил работать с тем, что имею. Если лампы будут слишком
сильно жарить, придется искать более эффективные.На случай, когда
температура будет высокой и требуется освещение, я сделал так, чтобы
можно было отключить половину ламп.Кулеры и термометрыНастало время
заняться электроникой. Для управления своей системой я выбрал
Raspberry Pi, т.к. у меня давно валялась без дела старенькая 26
пиновая. Мне советовали делать на Arduino или esp32, но мне нужен
полноценный компьютер для управления, чтобы работать в привычной
среде.Я повесил на каждую из полок по датчику температуры DS18B20 и
ещё один разместил снаружи. Проверю, как сильно нагреется коробка без
отвода теплого воздуха. Закрыл коробку крышкой и включил свет.В
коробке температура стабилизировалась на 41.9°C на нижней полке и
42.4°C на верхней при температуре снаружи 23.7°C. Разница между
полками не большая - это хорошо, но вот уровень температуры никуда не
годится. Хочется, чтобы она не превышала 26°C.РоликЯ поставлю коробку
на лоджию. Зимой температура там не должна опускаться ниже -20°C и
предполагается, что в коробке я смогу поддерживать достаточную
температуру зимой. С охлаждением всё обстоит сложнее. Я не решил эту
проблему. Забегая вперед скажу, что прошедшим летом в аномальную жару
температура в коробке достигала 37°C.Для вентиляции и отвода тепла я
установил 4 кулера с регулировкой оборотов.РоликИ начал проводить
эксперименты. РоликЛюбопытно почитать комментарии к последнему ролику.
Все думают, что я выращиваю траву. Несколько моих роликов даже банили
из-за жалоб пользователей.На максимальных оборотах кулеров, если
закрыть ящик, при внешней температуре 24°C, внутри со включенным
светом получается 31°CНаписал код для отдельной регулировки оборотов
верхних и нижних кулеров, чтобы поддерживать нужную температуру во
время холодов. На следующем графике видно, что снаружи температура
около 5°C, а на полках держится в районе 24°CНа следующем фото видно
куда я вмонтировал кулеры. И еще я снял рассеиватели с ламп.Вот ещё
есть график работы вентиляторов при внешней температуре -1°CКулеры
вращаются, чтобы поддерживать в коробке температуру 24°C. Верхний
работает на 50% мощности, а нижний на 35%. Я хотел протестировать на
более низких температурах, но мороза больше не было.ОтоплениеДлина
светового дня - важный параметр для роста земляники садовой. Это
значит, что свет не будет работать круглосуточно и растениям
необходимо греться в «ночное» время. Для обогрева я использовал лампы
накаливания, соединенные последовательно. При таком подключении они
будут хорошо греть, но слабо светить.Лампы накаливания я повесил рядом
с основным освещением. 3 верхние и 3 нижние лампы соединены
последовательно.На фото лампочки на 60W. Но после экспериментов я их
заменил на лампы по 200W, чтобы в итоге на морозе иметь достаточно
тепла в коробке.Борьба с релеНастало время сделать управление
освещением и отоплением. Я взял реле на 8 каналов, как на видео в
следующем тиктоке и подключил его к малинке (Raspberry Pi) РоликЛампы
накаливания включаются и выключаются отлично. А вот на светодиодном
освещении контакты релешки начали залипать. Оказалось, что для пуска
светодиодной лампы требуется очень большой ток, который приводит к
свариванию контактов и обычные реле на 10A не выдерживают. Подробнее
можно вот тут почитать.Тогда я решил, что буду своими маленькими
релешками включать более мощные реле. У отца как раз нашлась пара
больших контакторов, которыми он поделился. Я их подключил и результат
не порадовал - такой громкий гул и щелчки недопустимы в условиях
квартиры. Поэтому я начал искать альтернативы.На форумах частенько
попадалась информация, что можно использовать терморезисторы, чтобы
гасить стартовый скачок тока, но у меня не было уверенности, что идея
рабочая. Я решил попробовать твердотельное реле. В них отсутствуют
механические части для включения/выключения и о залипании контактов
можно не думать.Заказал два твердотельных реле на 40A каждое.
Производитель обещает, что они выдерживают максимальный импульс тока
400А на короткий промежуток. Надеюсь, этого хватит. Запускаю на
тестирование. Погонял пол часа на вкл/выкл. Полет нормальный. Совсем
не нагрелись. Но есть  один неприятный момент. В «разомкнутом»
состоянии они на самом деле пропускают небольшой ток. Из-за этого
светодиодные ламы тускло светятся когда должны быть выключены. Для
моей задачи это не критично, т.к свечение очень слабое. Даже,
возможно, хорошо, т.к. хочется установить в ящик камеры и у меня будет
ночная подсветка.РоликДатчики влажности почвыЯ купил датчики влажности
почвы.Подключил их к Raspberry Pi, чтобы протестировать.РоликРаботает.
Но проблема в том, что на малинке я с них могу получать лишь сигнал 1
или 0 и настраивать порог срабатывания, подкручивая резистор на самом
датчике. Такой вариант меня не устраивает. Я хочу видеть изменяющийся
уровень влажности. Для этого на датчиках есть аналоговый вывод, но на
малинке нет считывателя аналогового сигнала. Поэтому пришлось докупить
АЦП (аналого-цифровой преобразователь)Подключил датчики влажности к
АЦП. Какие-то они не стабильные. Если окунать в воду, то через пару
минут напряжение с аналогового вывода проседает на 15% на одном и на
10% на другом. Еще я прочитал, что на щупы этих датчиков есть жалобы —
они довольно быстро окисляются и начинают работать хуже. А еще они
выглядят слишком короткими. Я принял решение попробовать емкостные
датчики влажности почвы. На фото видно, что новые датчики
повнушительнее старых и, кажется, лучше по качеству.Я запустил
тестироваться новые датчики влажности почвы. Первое, что меня огорчило
— в одинаковых условиях они дают немного разные показания. Т.е.,
допустим, без влажности оба датчика выдают 3.3 вольта, а если оба
погрузить в одну и ту же емкость с водой, то один может выдавать 2.8В,
а другой 2.9В. Но разница не выглядит большой.Я провел эксперимент.
Обмотал оба датчика мокрыми салфетками, т.к. они высыхают быстрее чем
почва. Подключил их к малинке, включил логирование данных и стал
ждать. В какой-то момент мне показалось, что салфетки слишком мокрые и
надо их подсушить феном. Отсюда я понял, что показатели зависят еще и
от температуры. Когда салфетки стали подсыхать, данные с датчиков
стали похожими. Это хороший знак. Скорее всего не придется под каждый
датчик делать корректировку. И можно будет выставить порог, при
котором будет автоматически включаться полив.На картинке всё очень
хорошо, прям идиллия. Жаль, что на практике всё пошло не по плану. Но
об этом позже.АвтополивДля полива я заказал маленький насос на 12
вольт, который не требует погружения в воду.РоликТак же были куплены
трубки и капельницы с компенсирующими каналами.Каналы должны
способствовать равномерному выливанию жидкости из каждой
капельницы.Потом я собрал в ванной установку, чтобы сравнить, сколько
воды выходит из каждой капельницы. Я сделал два ряда капельниц - для
верхней и для нижней полки. Капельницы в каждом ряду между собой имели
незначительный разброс. А вот разность между рядами была очень
большой. Видимо, из-за давления водяного столба. В рюмках на следующем
фото видно, сколько набирается за одно и то же время снизу и сверху.Я
пробовал по-разному соединять трубки, но ничего удовлетворительного у
меня не вышло. РоликВ итоге я пришел к выводу, что надо сделать на
каждую полку индивидуальный полив со своим насосом. Так даже лучше.
Можно будет, при необходимости, полить отдельную полку и сделать
разную продолжительность полива.РоликДатчик влажности воздухаДля
земляники садовой комфортный уровень влажности — 60%. Когда-нибудь я
попробую влиять на этот показатель, а пока просто начну собирать
данные чтобы быть в курсе текущей.Подключил датчик влажности и
температуры на микросхеме Si7021. Запустил увлажнитель воздуха, чтобы
проверить. Вроде ок. Интересное замечание — увлажнитель воздуха
прилично охлаждает. В самой струе из увлажнителя температура упала аж
на 8°C. Надо будет подумать, можно ли этот принцип использовать при
охлаждении коробки в жаркие времена.Датчик CO2Углекислый газ важен для
фотосинтеза. Основную часть своей сухой массы растение синтезирует из
CO2 и воды.В теплицах и сити-фермах, при хорошем освещении, часто
повышают уровень этого газа до 1300 ppm, чтобы получить лучший урожай.
На улице же этот уровень составляет 400-450 ppm.Я бы хотел
регулировать уровень CO2 в своей коробке, но из-за активной вентиляции
это не представляется возможным. Но следить за уровнем газа мне
показалось интересной идеей, поэтому я поставил в свою чудо-коробку
датчик.Я заказал датчик CCS811. Подключил к Raspberry Pi, а библиотека
для работы с ним выдает ошибку. Вот что говорит производитель: «This
sensor is not well supported on Raspberry Pi. This is because it uses
I2C clock stretching which the Pi cannot do without drastically
slowing down the I2C speed. CircuitPython and Arduino are supported».
Короче, какие-то проблемы с частотой обмена данных с I2C. Нашел
инструкцию, что частоту можно замедлить. Для моих сенсоров, кажется,
это не критично. Замедлил, всё заработало. Ура!Начал тестировать.
Подозрительно низкие показания у датчика - 400 ppm - минимальное
значение, которое может выдать аппарат. Это не похоже на правду. Тем
более, что у меня есть ещё один домашний датчик co2 и он показывал в
это время около 700 ppm. Подышал на датчик - значение поднимается. Но
как-то слабо. Надышал в пакет. Мой домашний датчик зашкалило, а у
этого сначала увеличилось значение, а затем стабилизировалось опять на
400. Муть какая-то. Решил почитать мануал. Оказалось, «Характеристики
сенсора стабилизируются в период обкатки, который длится около 48
часов, поэтому ранние измерения могут отличаться по точности. В
нормальном режиме работы наиболее точные показания достигаются через
30 минут прогрева после включения питания.» Поэтому придется погонять.
Пусть пока поработает. Посмотрю, что будет дальше.Поработал датчик
около 40 часов. За это время показатели сильно скакали. Окно было
постоянно открыто, домашний датчик показывал нормальные, как мне
казалось, результаты, а показания этого как-то скачут. Причем видно,
он реагирует на открытие/закрытие окна, но само значение иногда,
кажется, не соответствует действительности - сильно скачет по
отношению к датчику, которому я привык доверять. Решил поподробнее
почитать про датчик. В даташите узнал, что сенсор может принимать
данные о температуре и влажности воздуха для коррекции показаний. В
документации к питоновской библиотеке про это не сказано. Решил
заглянуть в код. Спасибо, такая возможность реализована. Запущу второй
тест с учетом влажности и температуры, данные о которых возьму с
другого датчика.Погонял еще пару дней датчик CO2. Показания начали
коррелировать с показаниями домашнего датчика. Дальше на графике
пример показаний счетчика.И вроде все нормально, но слишком часто его
показания отличались от моего домашнего датчика и эти отклонения я не
мог объяснить. Например CCS811 как-то показывал 1100 ppm, хотя все
окна были настежь и домашний датчик показывает около 500 ppm, которому
я верю больше. Я решил, что это из-за принципа работы нового датчика.
Датчик качества воздуха CCS811 замеряет концентрацию летучих
органических веществ (TVOC), а затем из этих данных вычисляет
эквивалентное значения углекислого газа (eCO2). Для мониторинга
качества воздуха такой метод подходит, а вот для моих целей
отслеживания уровня CO2, увы, нет. Надо подробнее читать описание
перед покупкой.Пришлось заказать другой датчик - MH-Z19B. Он должен
лучше подойти. Как только он приехал, я его без проблем подключил.
Работает отлично. Показания очень близки к домашнему.КрышкаНа время
холодов у меня есть крышка. На фото она держится на малярном скотче.
Позже я сделал нормальные защелки.ПроводаНастало время как-то
организовать провода моей чудо-коробки, т.к. на макетной плате, если
подключить все устройства, то разобраться в проводах - сущий
кошмар.Чтобы не запутаться, я накидал на бумажке схему что куда идет.
Делал для себя, как умею, поэтому спрячу под спойлер. СпойлерЯ решил
всё соединить проводами на маленькой макетной плате. Пайка была
кропотливой, но у меня получилось. Оглядываясь назад, я пришел к
выводу, что надо было сделать масштаб пайки раза в 2 побольше, т.к.
приходилось кое-что перепаивать и это было неудобно.Следующим шагом я
смонтировал все управляющие устройства на дощечке.И подключил к ней
все необходимые провода.КодПока я тестировал все приборы, я уже
написал код для работы каждого в отдельности. Настало время объединить
всё под одной системой и начать писать логику управления и мониторинга
коробки.В итоге я написал программу со следующей
функциональностью:Сбор и логирование данных с датчиков:термометры на
каждой из двух полок и еще один снаружиCO2влажность воздухавлажность
почвыКонтроль за поливом: если влажность почвы слишком низкая на одной
из полок, то включается насос для подачи жидкостиУправление
вентиляторами для верхней и нижней полки в отдельности. Если
температура выше заданной, то в коробку начинает нагнетаться воздух.
Чем дольше температура не опускается, тем сильнее дует
воздухУправление освещением. Я могу задать любое время для начала и
окончания «‎светового дня». Так же добавил автоматическое отключение
света, если температура будет слишком высокой, т.к. освещение —
основной источник теплаУправление отоплением. Если температура
опускается ниже заданной, то оно включаетсяКод в открытом доступе
можно посмотреть на гитхабе.Подготовка субстратаУ меня всё готово для
посадки. Я решил выращивать на гидропонике, т.е. все питательные
вещества, необходимые для растений будут вноситься вместе с поливом,
поэтому субстрат должен быть максимально нейтральным. После изучения
возможных вариантов, мне понравился состав из 75% кокосового субстрата
и 25% перлита. Корни клубники достаточно чувствительны к кислороду в
почве. Предполагается, что наличие перлита с этим поможет, а кокосовые
волокна являются хорошим проводником для жидкости и являются
достаточно влагоёмкими.В качестве питательных веществ я купил
комплексное удобрение. Оно состоит из трех баночек, из которых можно
готовить разные растворы, изменяя пропорции каждой, в зависимости от
стадии развития растения.Мне потребуется следить за качеством
питательного раствора и субстрата. Основные показатели, за которыми
смотрят - уровень содержания солей и уровень pH. За уровнем содержания
солей следят косвенно, измеряя электропроводность жидкости. Я купил
солемер и pH-метр.Решил посмотреть, насколько нейтрален субстрат. Для
этого я взял воду и измерил у нее pH и EC(электропроводность).
Показания были pH - 7.2, EC - 0.3 mS/cm. Затем я прогнал эту воду
через субстрат и снова произвел замеры. Показания остались примерно на
том же уровне. Это говорит о том, что субстрат достаточно
нейтрален.Выбор рассадыЯ узнал, что существует огромное количество
сортов земляники садовой. Каждый год появляются новые сорта.
Специалисты постоянно спорят между собой какой сорт лучше и для каких
целей. Для коммерческого выращивания подходят одни сорта, которые
больше соответствуют товарным качествам, для домашнего выращивания
больше подходит то, что вкуснее. Кроме качеств самой земляники важным
критерием является то, как скоро, как часто растение выдает урожай и
как долго плодоносит. Одним из основных отличий сорта является
приспособленность к длине светового дня. Как правило, сорта короткого
светового дня (КСД) имеют более быстрый период созревания и отдают
ягоду достаточно скоро и одновременно. Эти сорта часто используются в
коммерческих целях, благодаря одновременной отдаче ягод и
предсказуемости времени плодоношения. Сорта нейтрального светового дня
(НСД) плодоносят на протяжении сезона. Я выбрал для своего
эксперимента сорт КСД - Клери. Саженцы можно легко заказать через
интернет. Я заказал 30 штук. Потом выбрал из них 20 самых мощных и
посадил в контейнеры в свой субстрат.Питательный растворВместе с
удобрениями, которые я купил, поставляется таблица как приготовить
питательный раствор в соответствии с периодом развития растения.
Приготовил раствор на начальную стадию вегетационного периода, т.е.
когда у растения развивается корневая система и происходит набор
массы.Для первых дней полива концентрация веществ в растворе должна
быть небольшой. Так же важно контролировать pH. У меня он был 7.2. А
для земляники садовой рекомендуют, чтобы кислотность была в районе 5.5
- 6.8. Для понижения pH продаются разные жидкости, основным
компонентом которых является кислота. Я добавил пару миллилитров такой
жидкости в свой раствор и pH упал до 6.3КамерыЯ решил, что мне
необходимо установить камеры, чтобы смотреть за внешним состоянием
растений пока отсутствую дома. Также хочется снять таймлапс.  Нужно
найти адекватный способ для подключения нескольких камер к малинке, но
все нормальные варианты были дорогими и сложными. Тогда я решил
отвязаться от малинки и купил три недорогие IP-камеры, работающие
через Wi-fi, за 5 минут подключил их к мобильному приложению,
зафиксировал IP-адреса на DHCP-сервере и настроил крон, получающий
картинки по RTSP-протоколу, чтобы сделать таймлапс (видео от посадки
до созревания в конце).РоликПроблемы с поливомПосле посадки я заметил,
что вода из бака начала уходить сама по себе. Попробуйте догадаться
почему это произошло, глядя на фото.Это произошло потому, что уровень
трубок ниже верхнего уровня жидкости и вода шла самотеком. Как с этим
бороться? Можно было бы разместить бак ниже уровня трубок, из которых
вытекал раствор, но места в коробке снизу нет. Еще один вариант -
найти такой клапан, который бы открывался только под давлением.Я как
раз недавно узнал, что есть такая штука - компенсированная капельница.
Такие капельницы используются в системах полива, чтобы начать
одновременное орошение из всех капельниц и, чтобы выход жидкости из
каждой капельницы был одинаков. Эти капельницы открываются при
достижении определенного давления в системе и закрываются, если
давление ниже. Это-то мне и нужно.У этих капельниц есть определенные
требования к чистоте жидкости, поэтому на входе в систему полива
пришлось поставить фильтр.Еще одна проблема, с которой мне пришлось
столкнуться - мои маленькие насосы не способны протолкнуть через
компенсированные капельницы воздух, если его много в системе. Поэтому
так же пришлось установить обратный клапан, чтобы вода не вытекала в
бак. Когда я стравил лишний воздух, полив заработал.Но спустя две
недели я понял, что полив работает плохо. Из некоторых капельниц вода
еле сочилась. Вероятно, это связано с тем, что в систему снова попал
воздух, когда я наполнял бак свежим раствором. И меня напрягали
постоянные переживания, что в систему может в любое время попасть
воздух, когда раствор закончится. Поэтому я решился на еще одну
переделку - я выкинул компенсированные капельницы и поставил
электроклапан, который открывается вместе со включением насоса. Теперь
не страшно, если в трубках будет воздух.ЖараК сожалению, я пока не
сделал ничего, чтобы можно было понижать температуру в моей коробке, а
через несколько дней после посадки в Москве началась аномальная жара.
В эти дни температура в коробке достигала 37°C. Я думаю, что именно
это сказалось на приживаемости моей рассады. Кусты начали один за
другим погибать.РоликПришлось заказать ещё рассады. Из нынешних кустов
я оставил только 4 самых сильных, а вместо остальных посадил 2 новых
сорта. На этот раз НСД, чтобы сравнить что получится.Что не так с
датчиками влажности почвы?Показания датчиков влажности почвы в
реальных условиях меня разочаровали. Я думал что можно будет нормально
следить за уровнем влажности, а по факту всё сильно отличается от
эталонного эксперимента, который я проводил с намоченной
салфеткой. Во-первых субстрат пористый и неравномерно прилегает к
поверхности датчиков, из-за чего при примерно одинаковой влажности
показания с датчиков различаются.Во-вторых показания скачут от одного
полива к другому.В-третьих, я обнаружил проблему, что когда включается
свет, показатели датчиков немного проседают. Я пока не определил
точную причину. Сами датчики имеют отдельное питание, но АЦП, с
которым они работают, питается от Raspberry Pi и управляющий сигнал на
включение реле тоже подается с малинки. Думаю, проблема в том, что
когда происходит подача питания на реле, то это как-то сказывается на
АЦП.Вот пример показаний с датчиков:Датчики начинают показывать
одинаковые значения только когда субстрат уже сухой. А мне необходимо
его поддерживать во влажном состоянии. Это значит, что я не смогу
сделать автополив на основе датчиков. Пришлось запускать полив по
расписанию. А датчики я использую, чтобы следить, что субстрат не
высох.Что не так с термометрами?С термометрами творится что-то
странное. Через каждые 2-3 дня работы один из 3-х термометров
пропадает из системы. Перезагрузка сервиса и малинки не помогает.
Спасало только полное отключение питания от термометров на несколько
секунд. Пришлось искать причину.Надо было читать мануал! Датчики
DS18B20, которые я использовал, работают по протоколу 1-Wire,
топология сети - общая шина, т.е. просто один провод, на котором висят
все устройства.А я сделал топологию типа «‎Звезда». Пришлось
переделывать. После исправления проблема ушла.Б-БезопасностьНа всякий
случай обзавелся датчиком дыма и огнетушителем.РоликГрафикиПриложение
на малинке периодически логирует состояние коробки в базу данных. На
основе этой информации я потом строю графики, чтобы видеть, что
происходит.Проблемы с питаниемПрошел месяц после посадки. Новые листья
начали вырастать деформированными и подсохшими на концах. Как правило,
по внешнему виду листьев можно много понять о состоянии растения и в
первую очередь о недостатке элементов в питании.В сети можно найти
изображения с примерами нехватки питания у земляники садовой. Мой
случай очень похож на нехватку кальция. Я изучил состав удобрений,
которые использовал. Оказалось, кальция в нем очень мало. Насколько я
понял, в моё удобрение кальций почти не добавляют потому, что он
содержится в водопроводной воде. Хоть я и использую водопроводную
воду, надо понять, хватает ли в ней кальция для земляники.Нашел
примерные данные по кальцию у мосводоканала. В сумме с кальцием из
удобрений, получилось чуть больше половины нормы.Производство
собственного питания для земляникиПроблему с кальцием надо было
исправлять и я решился на составление собственного питательного
раствора. На деле это оказалось совсем не трудным. Все растения
употребляют одни и те же элементы, только немного в разных пропорциях.
Смешав минеральные соли этих элементов в нужных пропорциях можно
получить нужный профиль питания. Более детально об этом можно
посмотреть на канале MoleGarden.А ещё есть супер калькулятор, который
подскажет, сколько и чего взвешивать. Все соли без проблем можно
заказать в интернете.Так же я нашел в сети профиль питания
непосредственно для земляники садовой и приготовил в соответствии с
ним нужный мне раствор. Теперь я смогу корректировать концентрацию
элементов на свое усмотрение.РоликРУ меня получилось 7 бутылок с
концентрированными растворами разных минеральных солей и еще одна
бутылка с раствором микроэлементов. Микро-профиль я решил пока
покупать готовый. Из этих бутылок я смешал два коктейля для своей
земляники - их принято называть раствор А и раствор Б. В
концентрированном виде их не смешивают, т.к. они могут вступить в
реакцию. И теперь мне достаточно добавить по 50 мл каждого коктейля в
бак с водой, чтобы растения получали всё что нужно.ОбслуживаниеСколько
времени я трачу на поддержание системы в рабочем состоянии? Через
день, хотя мне нравится делать это каждый день, я осматриваю листву на
наличие проблем с питанием и вредителей, удаляю усы, если есть и
опыляю цветки. Это занимает 3-5 мин.Канистры на 10 литров хватает на
3-4 дня. С такой периодичностью надо делать новый питательный раствор.
Если требуется куда-то уехать, то канистру можно растянуть и на две
недели, т.к. кокосовое волокно обладает хорошей буферностью и содержит
в себе достаточно влаги. На приготовление раствора уходит около 10
минут.Раз в полтора месяца надо проливать субстрат чистой водой, т.к.
в нем накапливаются минеральные соли из питательного раствора.
Занимает по времени пару часов, но не требует постоянного присутствия.
Надо только наполнять канистру и выливать из тазика дренаж.Ещё какое-
то время уходит на решение непредвиденных проблем: то отклеится что-
то, то параметры работы подкорректировать, то подпорку под цветоносы
сделать, чтобы не поломались под своим весом, то ещё что-то. Но таких
вещей становится всё меньше и они либо устраняются, либо переходят в
разряд предсказуемыхУрожайЗа 12 дней до публикации этого поста я
сорвал первую ягоду. С тех пор было собрано почти полкило клубники.
Ягода очень ароматная и вкусная. Средний вес ягоды - 15 гр. По
содержанию сахара 9-10 Brix, в среднем. Насколько я понял, это уже
неплохой показатель в клубничной сфере.ЗаключениеКогда я только
приступил к проекту, я многого не знал и мне ещё очень далеко до тех
результатов, которые меня вдохновили. Я кое-как справился с жарой. А
впереди ещё морозы. Ещё я не встречался с серьезными болезнями
растений и вредителями, кроме одной откуда-то взявшейся гусеницы и
мелких мушек. Я хочу научиться управлять температурой, влажностью
воздуха и CO2, проводить эксперименты, чтобы найти наилучшие условия
для развития растений и ещё очень много чего хочу. Поэтому, пока
растет земляника в этой коробке, в моей голове уже зреет проект
Коробки 2.0 о котором я обязательно расскажу, когда придет время. А
пока вот вам ролик с таймлапсом. 2 месяца за 30 секунд.РесурсыГитхаб:
https://github.com/shurik2533/growboxTikTok:
https://www.tiktok.com/@cyber_dacha
