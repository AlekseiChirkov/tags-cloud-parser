Автор: Ringenium
Дата: 2021-10-05T18:42:14.000Z
Название: Небольшая автоматизация небольшого производства
Теги: Высокая производительность *, Схемотехника *, Электроника для
начинающих
Текст:
Практически все инженеры, причастные к разработке в небольших
компаниях, занимаются, помимо самой разработки, приемосдаточными
испытаниями и отладкой уже серийных изделий. Чаще всего изделия
подвергаются климатическим испытаниям, испытаниям
на виброустойчивость, в целом список испытаний зависит от целевого
назначения изделия и места его эксплуатации, в общем изделие загоняют
в критические режимы работы. Если испытания производятся силами
организации, то место их проведения обрастает кучей проводов
и контрольно-измерительными приборами конечно разработчик знает, что
со всем этим делать, но если вам повезло, и ваша организация имеет
человека, призванного заниматься приемосдаточными испытаниями
то конечно его нужно вводить в курс дела и объяснять, как работать
с этим изделием. Частенько, предприятия, даже не большие, выпускают не
один продукт, а несколько(ну или разные модификации одного детища) и
конечно к отладке каждого из вариантов нужно, так или иначе,
подготавливать рабочее место, что не облегчает и точно не ускоряет
работу. Но есть из этого выход, который облегчит если не жизнь,
то хотя бы рабочий процесс наладчику, и инженеру, и инженеру-
наладчику, а имя этому выходу - стенд для испытаний.Вот и на нашем
производстве родилось новое изделие, а это всегда большая радость и
особенное удовольствие ну и конечно оно сразу начало продаваться.
Отладка первых партий делалась полностью вручную (измерения
напряжения, токов, изменение напряжения питания и сопротивления
нагрузки) то еще удовольствие. В общем было решено делать полноценный
стенд который должен соответствовать следующим
требованиям.Одновременная проверка до трех устройств (больше      не
влезает в климатическую камеру).Настройка уровней питания без
лабораторного      блока. Замер потребления тока на каждом изделии без
мультиметра.Наличие нагрузки.Формирование протоколов испытаний. Ну
что, задача ясна давайте приступим.Сперва была набросана структурная
схема. В итоге получилось три основных звенаКомпьютер на который будет
передаваться вся      информация со стенда и где будет формироваться
протокол испытаний.Собственно сам стенд (что он из себя представляет
рассмотрим ниже).Испытуемые изделия.Рассмотрим стенд. Его структурная
схема приведена ниже, как вы можете видеть он состоит из четырех
частей. Все части, за исключением источника питания, реализованы на
одной печатной плате, которая будет устанавливаться в корпус для DIN-
рейки.Источник питания - 24 вольта 5 ампер, из них мы      постараемся
получить необходимые нам уровни напряжения.Модуль преобразования
напряжения.Модуль контроллера - здесь располагаются мозги      нашего
стенда.Модуль подключения изделий - на самом деле их три, это у нас
указано в ТЗ. Теперь подробнее о каждом модулеИсточник питанияДиапазон
рабочих напряжений наших изделий может задаваться от 8 до 24 вольт, а
потребление по току от 2 до 600 мА, в зависимости от модификации. К
стенду мы должны подключать до трех изделий, следовательно
максимальный ток нужно брать минимум в три раза больший и того 1,8 А.
Не такой и большой ток, но в некоторых модификациях нашей продукции
есть релейный выход (сухой контакт), так вот он должен выдержать 1 А,
умножаем на 3 и прибавляем. И того 4,8 А, уже не так мало. По этим
характеристикам выбираем подходящий нам источник питания например
NDR-120-24 от компании Mean Well.Модуль преобразования
напряженияПереходим к печатной плате и так первый модуль.Из входных 24
вольт, нам нужно сформировать и питание самого стенда, и диапазон
питаний для изделий, и нагрузить выходное реле на 1 ампер (если такое
имеется).С питанием стенда все просто и довольно банально, из 24 вольт
мы получаем промежуточные 5 ну а потом из них привычные всем 3.3. За
это отвечает связка микросхем DD2 и DD4.А вот с питанием самих изделий
решение более интересное. На просторах интернета была найдена
интересная микросхема XL4015 компании XLSEMI и знаете, по
документации, это очень не плохой аппарат(посмотрим как он себя
покажет). Так вот чтобы на его выходе получать необходимый нам
диапазон напряжений, в цепь обратной связи вместо обычного делителя,
устанавливается источник тока на операционном усилителе. Сигнал на ОУ
через резисторный делитель поступает с ЦАПа микроконтроллера.Формула
выходного напряжения(Vcc) без учета R12 приведена ниже.Как понимаете,
R12 задает минимальный ток и если с контроллера не будет подаваться
сигнал то напряжение Vcc будет равно 8 вольт.Модуль контроллераНу тут
тоже все довольно тривиально, контроллер(silabs), FTDI для USB, ну и
так как мы промышленники, то добавим на всякий случай 485-ый
интерфейс. Ну и еще закинем на свободные порты контроллера контрольные
сигналы с изделия, (это у нас выводы MCU_GPIO1...GPIO6). Да в общем-то
и все.Модуль подключения изделийВ данном модуле мы решаем несколько
задач:Измеряем ток потребления наших изделий.Обеспечиваем нагрузку на
выходное релеПроверяем контроллером отработку сухого контакта и реле
ошибки.Как было написано в самом начале статьи, у изделий могут быть
разные модификации, вот и в нашем случае без этого не обошлось, в
итоге мы имеем три разъема для подключения разных модификаций.ИтогВ
итоге была разработана плата для стенда. Конечно нужно еще написать
программу на контроллер и компьютер, чтобы все это заработало как
положено и формировало протокол о проведенных испытаниях и все это
займет определенное время, но в конечном итоге данные усилия окупятся
с лихвой.
